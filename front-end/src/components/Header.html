<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AlphaTask - Header</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined">
    <link rel="stylesheet" href="header.css">
</head>
<body>
    <header class="header">
        <div class="header-container">
            <!-- Logo e Brand -->
            <div class="header-brand">
                <div class="header-logo">
                    <span class="material-icons-outlined">check_circle</span>
                </div>
                <span class="header-title">AlphaTask</span>
            </div>

            <!-- User Info e Ações -->
            <div class="header-actions">
                <!-- User Info -->
                <div class="header-user-info">
                    <span class="header-greeting">Olá, <span class="user-name-highlight" id="userNameDisplay"></span></span>
                </div>

                <!-- Avatar com Inicial -->
                <div class="header-avatar" id="userAvatar" title="Perfil do usuário">
                    <span class="avatar-initial" id="userInitial"></span>
                </div>
            </div>
        </div>
    </header>

    <script>
        /**
         * Inicializa o header com dados do usuário logado
         * @param {string} userName - Nome completo do usuário logado
         */
        function initializeHeader(userName = '') {
            if (!userName) {
                console.warn('Nome do usuário não fornecido para o header');
                return;
            }

            // Atualizar greeting com o nome do usuário
            const userNameElement = document.getElementById('userNameDisplay');
            if (userNameElement) {
                userNameElement.textContent = userName;
            }

            // Atualizar avatar com a inicial do nome
            const avatarInitial = document.getElementById('userInitial');
            if (avatarInitial) {
                const initial = userName.charAt(0).toUpperCase();
                avatarInitial.textContent = initial;
            }
        }

        // Inicializar quando o documento carregar
        document.addEventListener('DOMContentLoaded', () => {
            // Obter nome do usuário logado da sessão/localStorage/API
            // Exemplo de uso:
            // const userName = localStorage.getItem('userName') || sessionStorage.getItem('userName');
            // initializeHeader(userName);
            
            // Ou esperar pela resposta da API de autenticação:
            // fetchUserData().then(user => initializeHeader(user.name));
            
            console.log('Header pronto. Use initializeHeader("Nome do Usuário") para atualizar.');
        });
    </script>
</body>
</html>
